{"version":3,"sources":["webpack:///./src/views/front/pages/ProductShow.vue?34b4","webpack:///./node_modules/core-js/modules/es.array.concat.js","webpack:///./src/views/front/pages/ProductShow.vue?5fc5","webpack:///src/views/front/pages/ProductShow.vue","webpack:///./src/views/front/pages/ProductShow.vue?bbfd","webpack:///./src/views/front/pages/ProductShow.vue"],"names":["$","fails","isArray","isObject","toObject","toLength","createProperty","arraySpeciesCreate","arrayMethodHasSpeciesSupport","wellKnownSymbol","V8_VERSION","IS_CONCAT_SPREADABLE","MAX_SAFE_INTEGER","MAXIMUM_ALLOWED_INDEX_EXCEEDED","IS_CONCAT_SPREADABLE_SUPPORT","array","concat","SPECIES_SUPPORT","isConcatSpreadable","O","spreadable","undefined","FORCED","target","proto","forced","arg","i","k","length","len","E","this","A","n","arguments","TypeError","render","_vm","_h","$createElement","_c","_self","attrs","isLoading","on","$event","staticClass","filterProducts","_v","_s","products","productsTable","productsBouquet","productsWedding","_l","item","key","id","staticStyle","getProduct","style","backgroundImage","category","title","price","_e","_f","origin_price","status","loadingItem","addtoStorage","inCar","staticRenderFns","components","Alert","data","product","productsNow","breadcrumbCategory","cartStorage","JSON","parse","localStorage","getItem","methods","getProducts","vm","$http","get","api","then","response","$router","push","filter","cat","catch","forEach","cIdList","product_id","includes","cache","qty","splice","index","removeItem","setItem","stringify","$bus","$emit","cartContent","now","created","$route","params","component"],"mappings":"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","file":"js/chunk-1a68c1bd.f4e4fccd.js","sourcesContent":["export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProductShow.vue?vue&type=style&index=0&id=793c3b8b&lang=scss&scoped=true&\"","'use strict';\nvar $ = require('../internals/export');\nvar fails = require('../internals/fails');\nvar isArray = require('../internals/is-array');\nvar isObject = require('../internals/is-object');\nvar toObject = require('../internals/to-object');\nvar toLength = require('../internals/to-length');\nvar createProperty = require('../internals/create-property');\nvar arraySpeciesCreate = require('../internals/array-species-create');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar V8_VERSION = require('../internals/engine-v8-version');\n\nvar IS_CONCAT_SPREADABLE = wellKnownSymbol('isConcatSpreadable');\nvar MAX_SAFE_INTEGER = 0x1FFFFFFFFFFFFF;\nvar MAXIMUM_ALLOWED_INDEX_EXCEEDED = 'Maximum allowed index exceeded';\n\n// We can't use this feature detection in V8 since it causes\n// deoptimization and serious performance degradation\n// https://github.com/zloirock/core-js/issues/679\nvar IS_CONCAT_SPREADABLE_SUPPORT = V8_VERSION >= 51 || !fails(function () {\n  var array = [];\n  array[IS_CONCAT_SPREADABLE] = false;\n  return array.concat()[0] !== array;\n});\n\nvar SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('concat');\n\nvar isConcatSpreadable = function (O) {\n  if (!isObject(O)) return false;\n  var spreadable = O[IS_CONCAT_SPREADABLE];\n  return spreadable !== undefined ? !!spreadable : isArray(O);\n};\n\nvar FORCED = !IS_CONCAT_SPREADABLE_SUPPORT || !SPECIES_SUPPORT;\n\n// `Array.prototype.concat` method\n// https://tc39.es/ecma262/#sec-array.prototype.concat\n// with adding support of @@isConcatSpreadable and @@species\n$({ target: 'Array', proto: true, forced: FORCED }, {\n  // eslint-disable-next-line no-unused-vars -- required for `.length`\n  concat: function concat(arg) {\n    var O = toObject(this);\n    var A = arraySpeciesCreate(O, 0);\n    var n = 0;\n    var i, k, length, len, E;\n    for (i = -1, length = arguments.length; i < length; i++) {\n      E = i === -1 ? O : arguments[i];\n      if (isConcatSpreadable(E)) {\n        len = toLength(E.length);\n        if (n + len > MAX_SAFE_INTEGER) throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED);\n        for (k = 0; k < len; k++, n++) if (k in E) createProperty(A, n, E[k]);\n      } else {\n        if (n >= MAX_SAFE_INTEGER) throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED);\n        createProperty(A, n++, E);\n      }\n    }\n    A.length = n;\n    return A;\n  }\n});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('loading',{attrs:{\"active\":_vm.isLoading},on:{\"update:active\":function($event){_vm.isLoading=$event}}}),_c('Alert'),_c('div',{staticClass:\"row mx-0\"},[_c('div',{staticClass:\"col-md-3 col-sm-12 pl-0\"},[_c('ul',{staticClass:\"list-group border border-primary\"},[_c('li',{staticClass:\"list-group-item d-flex justify-content-between\\n          align-items-center border-bottom p-2\",on:{\"click\":function($event){return _vm.filterProducts('all')}}},[_vm._v(\" 所有商品 \"),_c('span',{staticClass:\"badge badge-primary badge-pill\"},[_vm._v(_vm._s(_vm.products.length))])]),_c('li',{staticClass:\"list-group-item d-flex justify-content-between\\n          align-items-center border-bottom p-2\",on:{\"click\":function($event){return _vm.filterProducts('table')}}},[_vm._v(\" 桌花 \"),_c('span',{staticClass:\"badge badge-primary badge-pill\"},[_vm._v(_vm._s(_vm.productsTable.length))])]),_c('li',{staticClass:\"list-group-item d-flex justify-content-between\\n          align-items-center border-bottom p-2\",on:{\"click\":function($event){return _vm.filterProducts('bouquet')}}},[_vm._v(\" 花束 \"),_c('span',{staticClass:\"badge badge-primary badge-pill\"},[_vm._v(_vm._s(_vm.productsBouquet.length))])]),_c('li',{staticClass:\"list-group-item d-flex justify-content-between align-items-center p-2\",on:{\"click\":function($event){return _vm.filterProducts('wedding')}}},[_vm._v(\" 捧花 \"),_c('span',{staticClass:\"badge badge-primary badge-pill\"},[_vm._v(_vm._s(_vm.productsWedding.length))])])])]),_c('div',{staticClass:\"col-md-9 col-sm-12 border border-primary d-flex flex-row flex-wrap h-auto py-3\"},[_c('div',{staticClass:\"d-flex flex-row flex-wrap h-auto py-3\"},[_vm._l((_vm.productsNow),function(item){return _c('div',{key:item.id,staticClass:\"card mx-auto my-3\",staticStyle:{\"width\":\"250px\"}},[_c('div',{staticClass:\"content-shadow\"},[_c('div',{on:{\"click\":function($event){return _vm.getProduct(item.id)}}},[_c('div',{staticStyle:{\"height\":\"300px\",\"background-size\":\"cover\",\"background-position\":\"center\"},style:({ backgroundImage: (\"url(\" + (item.imageUrl) + \")\") })}),_c('div',{staticClass:\"card-body\"},[_c('span',{staticClass:\"badge badge-primary float-right ml-2\"},[_vm._v(\" \"+_vm._s(item.category)+\" \")]),_c('h5',{staticClass:\"card-title\"},[_c('a',{staticClass:\"text-primary\",attrs:{\"href\":\"#\"}},[_vm._v(_vm._s(item.title))])]),_c('div',{staticClass:\"d-flex justify-content-between align-items-baseline\"},[(!item.price)?_c('div',{staticClass:\"h5 text-primary\"},[_vm._v(\" NT \"+_vm._s(_vm._f(\"currency\")(item.origin_price))+\" \")]):_vm._e(),(item.price)?_c('del',{staticClass:\"h6 text-primary\"},[_vm._v(\"NT \"+_vm._s(_vm._f(\"currency\")(item.origin_price))+\" \")]):_vm._e(),(item.price)?_c('div',{staticClass:\"h5 text-danger\"},[_vm._v(\" NT \"+_vm._s(_vm._f(\"currency\")(item.price))+\" \")]):_vm._e()])])]),_c('div',{staticClass:\"card-footer d-flex justify-content-between\"},[_c('button',{staticClass:\"btn btn-outline-primary btn-sm\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.getProduct(item.id)}}},[(_vm.status.loadingItem === item.id)?_c('i',{staticClass:\"fas fa-spinner fa-spin\"}):_vm._e(),_vm._v(\" 查看更多 \")]),_c('button',{staticClass:\"btn btn-outline-danger btn-sm ml-2\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.addtoStorage(item)}}},[(_vm.status.loadingItem === item.id && _vm.inCar === true)?_c('i',{staticClass:\"fas fa-spinner fa-spin\"}):_vm._e(),_vm._v(\" 加到購物車 \")])])])])}),_c('div',{staticClass:\"mx-auto my-3\",staticStyle:{\"width\":\"250px\"}}),_c('div',{staticClass:\"mx-auto my-3\",staticStyle:{\"width\":\"250px\"}})],2)])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template id=\"ProductShow\">\n  <div>\n    <loading :active.sync=\"isLoading\"></loading>\n    <Alert></Alert>\n    <div class=\"row mx-0\">\n      <!-- Sidebar -->\n      <div class=\"col-md-3 col-sm-12 pl-0\">\n        <ul class=\"list-group border border-primary\">\n          <li\n            class=\"list-group-item d-flex justify-content-between\n            align-items-center border-bottom p-2\"\n            @click=\"filterProducts('all')\"\n          >\n            所有商品\n            <span class=\"badge badge-primary badge-pill\">{{\n              products.length\n            }}</span>\n          </li>\n          <li\n            class=\"list-group-item d-flex justify-content-between\n            align-items-center border-bottom p-2\"\n            @click=\"filterProducts('table')\"\n          >\n            桌花\n            <span class=\"badge badge-primary badge-pill\">{{\n              productsTable.length\n            }}</span>\n          </li>\n          <li\n            class=\"list-group-item d-flex justify-content-between\n            align-items-center border-bottom p-2\"\n            @click=\"filterProducts('bouquet')\"\n          >\n            花束\n            <span class=\"badge badge-primary badge-pill\">{{\n              productsBouquet.length\n            }}</span>\n          </li>\n          <li\n            class=\"list-group-item d-flex justify-content-between align-items-center p-2\"\n            @click=\"filterProducts('wedding')\"\n          >\n            捧花\n            <span class=\"badge badge-primary badge-pill\">{{\n              productsWedding.length\n            }}</span>\n          </li>\n        </ul>\n      </div>\n\n      <!-- 產品列表 -->\n      <div\n        class=\"col-md-9 col-sm-12 border border-primary d-flex flex-row flex-wrap h-auto py-3\"\n      >\n        <div class=\"d-flex flex-row flex-wrap h-auto py-3\">\n          <!-- 產品卡片 -->\n          <div\n            class=\"card mx-auto my-3\"\n            style=\"width:250px\"\n            v-for=\"item in productsNow\"\n            :key=\"item.id\"\n          >\n            <div class=\"content-shadow\">\n              <div @click=\"getProduct(item.id)\">\n                <div\n                  style=\"height: 300px; background-size: cover; background-position: center\"\n                  :style=\"{ backgroundImage: `url(${item.imageUrl})` }\"\n                ></div>\n                <div class=\"card-body\">\n                  <span class=\"badge badge-primary float-right ml-2\">\n                    {{ item.category }}\n                  </span>\n                  <h5 class=\"card-title\">\n                    <a href=\"#\" class=\"text-primary\">{{ item.title }}</a>\n                  </h5>\n                  <div\n                    class=\"d-flex justify-content-between align-items-baseline\"\n                  >\n                    <div class=\"h5 text-primary\" v-if=\"!item.price\">\n                      NT {{ item.origin_price | currency }}\n                    </div>\n                    <del class=\"h6 text-primary\" v-if=\"item.price\"\n                      >NT {{ item.origin_price | currency }}\n                    </del>\n                    <div class=\"h5 text-danger\" v-if=\"item.price\">\n                      NT {{ item.price | currency }}\n                    </div>\n                  </div>\n                </div>\n              </div>\n              <div class=\"card-footer d-flex justify-content-between\">\n                <button\n                  type=\"button\"\n                  class=\"btn btn-outline-primary btn-sm\"\n                  @click=\"getProduct(item.id)\"\n                >\n                  <i\n                    class=\"fas fa-spinner fa-spin\"\n                    v-if=\"status.loadingItem === item.id\"\n                  ></i>\n                  查看更多\n                </button>\n                <button\n                  type=\"button\"\n                  class=\"btn btn-outline-danger btn-sm ml-2\"\n                  @click=\"addtoStorage(item)\"\n                >\n                  <i\n                    class=\"fas fa-spinner fa-spin\"\n                    v-if=\"status.loadingItem === item.id && inCar === true\"\n                  ></i>\n                  加到購物車\n                </button>\n              </div>\n            </div>\n          </div>\n\n          <!-- 佔位用 -->\n          <div class=\"mx-auto my-3\" style=\"width:250px\"></div>\n          <div class=\"mx-auto my-3\" style=\"width:250px\"></div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nimport Alert from '@/components/AlertMessage.vue';\n\nexport default {\n  components: {\n    Alert,\n  },\n  data() {\n    return {\n      products: [],\n      product: {},\n      status: {\n        loadingItem: '',\n      },\n      isLoading: false,\n      productsTable: [],\n      productsBouquet: [],\n      productsWedding: [],\n      productsNow: [],\n      breadcrumbCategory: '所有商品',\n      cartStorage: JSON.parse(localStorage.getItem('cartList')) || [],\n      inCar: false,\n    };\n  },\n  methods: {\n    getProducts(cat) {\n      const api = `${process.env.VUE_APP_APIPATH}/api/${process.env.VUE_APP_CUSTOMPATH}/products/all`;\n      const vm = this;\n      vm.isLoading = true;\n      vm.$http.get(api).then((response) => {\n        vm.isLoading = false;\n        vm.products = response.data.products;\n        vm.$router.push(`/shop/product_show/${cat}`).catch(() => {});\n        // 將商品分類\n        vm.productsTable = vm.products.filter((item) => item.category === '桌花');\n        vm.productsBouquet = vm.products.filter((item) => item.category === '花束');\n        vm.productsWedding = vm.products.filter((item) => item.category === '捧花');\n        if (cat === 'all' || cat === undefined) {\n          vm.productsNow = vm.products;\n          vm.breadcrumbCategory = '所有商品';\n          vm.$router.push('/shop/product_show/all').catch(() => {});\n        } else if (cat === 'table') {\n          vm.productsNow = vm.productsTable;\n          vm.breadcrumbCategory = '桌花';\n          vm.$router.push('/shop/product_show/table').catch(() => {});\n        } else if (cat === 'bouquet') {\n          vm.productsNow = vm.productsBouquet;\n          vm.breadcrumbCategory = '花束';\n          vm.$router.push('/shop/product_show/bouquet').catch(() => {});\n        } else if (cat === 'wedding') {\n          vm.productsNow = vm.productsWedding;\n          vm.breadcrumbCategory = '捧花';\n          vm.$router.push('/shop/product_show/wedding').catch(() => {});\n        }\n      });\n    },\n    getProduct(id) {\n      const api = `${process.env.VUE_APP_APIPATH}/api/${process.env.VUE_APP_CUSTOMPATH}/product/${id}`;\n      const vm = this;\n      vm.status.loadingItem = id;\n      vm.isLoading = true;\n      vm.$http.get(api).then((response) => {\n        vm.isLoading = false;\n        vm.product = response.data.product;\n        // 開啟\"\"查看更多\"的商品分頁\n        vm.$router.push(`/shop/product_detail/${id}`).catch(() => {});\n        vm.status.loadingItem = '';\n      });\n    },\n    addtoStorage(data, qty = 1) {\n      const vm = this;\n      const cIdList = [];\n      vm.cartStorage.forEach((item) => {\n        cIdList.push(item.product_id);\n      });\n      if (!cIdList.includes(data.id)) {\n        const cartContent = {\n          product_id: data.id,\n          qty,\n        };\n        vm.inCar = true;\n        vm.cartStorage.push(cartContent);\n        // 重新寫入 localStorage\n        localStorage.removeItem('cartList');\n        localStorage.setItem('cartList', JSON.stringify(vm.cartStorage));\n        vm.$bus.$emit('message:push', '已加入購物車', 'success');\n        vm.$bus.$emit('put');\n        vm.inCar = false;\n      } else {\n        let cache = {}; // 產品暫存處\n        vm.inCar = true;\n        vm.cartStorage.forEach((item, index) => {\n          // 只找相同的產品內容\n          if (item.product_id === data.id) {\n            let nowQty = item.qty;\n            cache = {\n              product_id: data.id,\n              qty: (nowQty += qty), // 產品當前數量+新增數量\n            };\n            // 移除現有 localStorage 購物車的資料，否則 localStorage 會重複加入\n            vm.cartStorage.splice(index, 1);\n          }\n        });\n        vm.cartStorage.push(cache);\n        // 重新寫入 localStorage\n        localStorage.removeItem('cartList');\n        localStorage.setItem('cartList', JSON.stringify(vm.cartStorage));\n        vm.$bus.$emit('message:push', '已加入購物車', 'success');\n        vm.$bus.$emit('put');\n        vm.inCar = false;\n      }\n    },\n    filterProducts(now) {\n      const vm = this;\n      if (now === 'all') {\n        vm.productsNow = vm.products;\n        vm.breadcrumbCategory = '所有商品';\n        vm.$router.push('/shop/product_show/all').catch(() => {});\n      } else if (now === 'table') {\n        vm.productsNow = vm.productsTable;\n        vm.breadcrumbCategory = '桌花';\n        vm.$router.push('/shop/product_show/table').catch(() => {});\n      } else if (now === 'bouquet') {\n        vm.productsNow = vm.productsBouquet;\n        vm.breadcrumbCategory = '花束';\n        vm.$router.push('/shop/product_show/bouquet').catch(() => {});\n      } else if (now === 'wedding') {\n        vm.productsNow = vm.productsWedding;\n        vm.breadcrumbCategory = '捧花';\n        vm.$router.push('/shop/product_show/wedding').catch(() => {});\n      }\n    },\n  },\n  created() {\n    this.getProducts(this.$route.params.cat);\n  },\n};\n</script>\n<style lang=\"scss\" scoped>\n$hover: #eafaf1;\n\nli {\n  cursor: pointer;\n}\nli:hover {\n  background-color: $hover;\n  transition: background-color 0.5s ease-in-out;\n}\n.breadcrumb-item:hover {\n  background-color: $hover;\n  transition: background-color 0.5s ease-in-out;\n}\n.breadcrumb-item:last-child {\n  cursor: text;\n}\n.breadcrumb-item:last-child:hover {\n  background-color: #fff;\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProductShow.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProductShow.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ProductShow.vue?vue&type=template&id=793c3b8b&scoped=true&\"\nimport script from \"./ProductShow.vue?vue&type=script&lang=js&\"\nexport * from \"./ProductShow.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ProductShow.vue?vue&type=style&index=0&id=793c3b8b&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"793c3b8b\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}