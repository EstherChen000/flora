(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3b84c04f"],{"99af":function(e,t,r){"use strict";var a=r("23e7"),o=r("d039"),s=r("e8b5"),i=r("861d"),n=r("7b0b"),d=r("50c4"),l=r("8418"),c=r("65f0"),u=r("1dde"),m=r("b622"),p=r("2d00"),v=m("isConcatSpreadable"),f=9007199254740991,g="Maximum allowed index exceeded",h=p>=51||!o((function(){var e=[];return e[v]=!1,e.concat()[0]!==e})),_=u("concat"),y=function(e){if(!i(e))return!1;var t=e[v];return void 0!==t?!!t:s(e)},b=!h||!_;a({target:"Array",proto:!0,forced:b},{concat:function(e){var t,r,a,o,s,i=n(this),u=c(i,0),m=0;for(t=-1,a=arguments.length;t<a;t++)if(s=-1===t?i:arguments[t],y(s)){if(o=d(s.length),m+o>f)throw TypeError(g);for(r=0;r<o;r++,m++)r in s&&l(u,m,s[r])}else{if(m>=f)throw TypeError(g);l(u,m++,s)}return u.length=m,u}})},a907:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("loading",{attrs:{active:e.isLoading},on:{"update:active":function(t){e.isLoading=t}}}),r("div",{staticClass:"my-5 row justify-content-center w-100 m-auto"},[r("div",{staticClass:"col-md-5 col-11 mx-auto"},[r("h5",[e._v("訂單明細")]),r("table",{staticClass:"table"},[e._m(0),r("tbody",e._l(e.order.products,(function(t){return r("tr",{key:t.id},[r("td",{staticClass:"align-middle"},[e._v(e._s(t.product.title))]),r("td",{staticClass:"align-middle"},[e._v(" "+e._s(t.qty)+"/"+e._s(t.product.unit)+" ")]),r("td",{staticClass:"align-middle text-right"},[e._v(e._s(e._f("currency")(t.final_total)))])])})),0),r("tfoot",[r("tr",[r("td",{staticClass:"text-right",attrs:{colspan:"2"}},[e._v("總計")]),r("td",{staticClass:"text-right"},[e._v(e._s(e._f("currency")(e.order.total)))])])])])]),r("form",{staticClass:"col-md-5 col-11 bg-white py-3 rounded border border-danger m-auto",on:{submit:function(t){return t.preventDefault(),e.payOrder.apply(null,arguments)}}},[r("h5",[e._v("收件地址")]),r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"payway"}},[e._v("付款方式")]),r("select",{directives:[{name:"model",rawName:"v-model",value:e.order.user.pay,expression:"order.user.pay"}],staticClass:"form-control",attrs:{name:"payway",id:"payway",disabled:""},on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.order.user,"pay",t.target.multiple?r:r[0])}}},[r("option",{attrs:{value:"atm"}},[e._v("ATM付款")]),r("option",{attrs:{value:"creditcard"}},[e._v("信用卡付款")]),r("option",{attrs:{value:"linepay"}},[e._v("LinePay付款")]),r("option",{attrs:{value:"googlepay"}},[e._v("GooglePay付款")]),r("option",{attrs:{value:"applepay"}},[e._v("ApplePay付款")]),r("option",{attrs:{value:"cod"}},[e._v("貨到付款")])])]),r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"useremail"}},[e._v("Email")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.order.user.email,expression:"order.user.email"}],staticClass:"form-control",attrs:{type:"email",name:"email",id:"useremail",placeholder:"請輸入 Email",disabled:""},domProps:{value:e.order.user.email},on:{input:function(t){t.target.composing||e.$set(e.order.user,"email",t.target.value)}}})]),r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"username"}},[e._v("收件人姓名")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.order.user.name,expression:"order.user.name"}],staticClass:"form-control",attrs:{type:"text",name:"name",id:"username",placeholder:"輸入姓名",disabled:""},domProps:{value:e.order.user.name},on:{input:function(t){t.target.composing||e.$set(e.order.user,"name",t.target.value)}}})]),r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"usertel"}},[e._v("收件人電話")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.order.user.tel,expression:"order.user.tel"}],staticClass:"form-control",attrs:{type:"tel",id:"usertel",placeholder:"請輸入電話",disabled:""},domProps:{value:e.order.user.tel},on:{input:function(t){t.target.composing||e.$set(e.order.user,"tel",t.target.value)}}})]),r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"useraddress"}},[e._v("收件人地址")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.order.user.address,expression:"order.user.address"}],staticClass:"form-control",attrs:{type:"text",name:"address",id:"useraddress",placeholder:"請輸入地址",disabled:""},domProps:{value:e.order.user.address},on:{input:function(t){t.target.composing||e.$set(e.order.user,"address",t.target.value)}}})]),r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"comment"}},[e._v("留言")]),r("textarea",{directives:[{name:"model",rawName:"v-model",value:e.order.message,expression:"order.message"}],staticClass:"form-control",attrs:{name:"comment",id:"comment",cols:"30",rows:"10",disabled:""},domProps:{value:e.order.message},on:{input:function(t){t.target.composing||e.$set(e.order,"message",t.target.value)}}})]),e._m(1)])])],1)},o=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("thead",[r("th",{staticClass:"border-right"},[e._v("品名")]),r("th",{staticClass:"border-right"},[e._v("數量")]),r("th",[e._v("單價")])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"text-right"},[r("button",{staticClass:"btn btn-danger"},[e._v("確認付款")])])}],s=(r("99af"),{data:function(){return{isLoading:!1,order:{user:{},message:""},orderId:""}},methods:{getOrder:function(){var e=this,t="".concat("https://vue-course-api.hexschool.io","/api/").concat("flora","/order/").concat(e.orderId);e.isLoading=!0,e.$http.get(t).then((function(t){e.order=t.data.order,e.isLoading=!1}))},payOrder:function(){var e=this,t="".concat("https://vue-course-api.hexschool.io","/api/").concat("flora","/pay/").concat(e.orderId);e.isLoading=!0,e.$http.post(t).then((function(t){t.data.success&&(e.getOrder(),e.$router.push("/cart/cart_final")),e.isLoading=!1}))}},created:function(){this.orderId=this.$route.params.orderId,this.getOrder()}}),i=s,n=r("2877"),d=Object(n["a"])(i,a,o,!1,null,null,null);t["default"]=d.exports}}]);
//# sourceMappingURL=chunk-3b84c04f.3e58ab1b.js.map